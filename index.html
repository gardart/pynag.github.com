<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/local.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
<link href="google-code-prettify/sunburst.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="google-code-prettify/prettify.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>pynag.github.com</title>
  <meta name="description" content="website">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body onload="prettyPrint()">

  <div class="wrapper">
    <header>
      <h1 class="title">pynag.github.com</h1><script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<g:plusone></g:plusone>
    </header>
    <div id="container">
      <p class="tagline">Python Modules for parsing Nagios configuration and writing plugins</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/pynag/pynag" class="code">View pynag.github.com on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h3>What is pynag?</h3>
<p>
          <small>py, as in python. nag, as in nagios</small>
</p>
          <h4>OK, but what does it do?</h4>
<p>
<ul>
<li><strong class="emphasize"><a href="#parse">Parse</a></strong> Nagios Configuration trees</li>
<li><strong class="emphasize"><a href="#manipulate">Manipulate</a></strong> Nagios Configurations</li>
<li><strong class="emphasize"><a href="#cli">Command Line</a></strong> tool for viewing and updating Nagios Configurations</li>
<li>Provides a <strong class="emphasize">Plugin</strong> writing framework</li>
<br/>
More info and documentation on <a href="https://github.com/pynag/pynag/wiki">https://github.com/pynag/pynag/wiki</a>
</ul>
</p>



<a name="parse"><h3>Let's Parse some configs!</h3></a>

<p>Parse the configuration, print information on hosts</p>
<pre class="prettyprint linenums">from pynag import Model

# Get all hosts
all_hosts = Model.Host.objects.all
for i in all_hosts:
    print i.host_name, i.contact_groups </pre>


<a name="manipulate"><h3>We can also change Configs!</h3></a>

<p>Find all services belonging to "examplehost" and change contactgroups</p>
<pre class="prettyprint linenums">from pynag import Model

services = Model.Service.objects.filter(host_name='examplehost')
for i in services:
  i.contactgroups = "mycontactgroup"
  i.save() </pre>

<a name="cli"><h3>Command Line Interface</h3></a>

<p><strong class="emphasize">List</strong> objects by hostname</p>
<pre class="">$ pynag list object_type shortname where host_name="pynag.github.com"
object_type          shortname           
--------------------------------------------------------------------
host                 pynag.github.com    
service              pynag.github.com/Ping
service              pynag.github.com/http://pynag.github.com
service              pynag.github.com/SSH Connectivity
----------5 objects matches search condition------------------------</pre>

<br/>
<p><strong class="emphasize">Update</strong> hostname</p>
<pre class="">
$ pynag update host_name="www1" where host_name="www1.example.com"
object_type             shortname                                
------------------------------------------------------------------
host                    www1.example.com                        
service                 www1.example.com/Ping                  
service                 www1.example.com/http://www1.example.com
service                 www1.example.com/SSH Connectivity      
----------4 objects matches search condition----------------------
Update these 4 objects ? (y/N) 
</pre>

      </div>
    </div>
    <footer>
      <div class="owner">

      <p><a href="https://github.com/pynag/pynag" class="avatar"><img src="https://secure.gravatar.com/avatar/468441cbfa533b173db0ce098336d617?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png" width="48" height="48"/></a>View <a href="https://github.com/pynag/pynag">pynag</a> on <a href="https://www.github.com">GitHub</a></p>

      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/pynag/pynag.github.com/tarball/master" class="tar">tar</a><a href="https://github.com/pynag/pynag.github.com/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36997265-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  
</body>
</html>
